<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Uploader</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1><%= user.username %>'s Dashboard</h1><a href="/log-out">Logout</a>
    </header>
    <main>
        <form action="/upload" method="post" enctype="multipart/form-data">
            <ul>
                <li>
                    <label for="file">Upload New File:</label>
                    <input type="file" id="file" name="file" accept=".jpeg, .jpg, .png, .wav, .mp3, .pdf, .doc, .docx, .txt" size="">
                </li>
                <li>
                    <button type="submit">Upload</button>
                </li>
            </ul>
        </form>
        <form action="/new-folder" method="post">
            <ul>
                <li>
                    <h2>Create New Folder</h2>
                </li>
                <li>
                    <label for="folder">Folder name:</label>
                    <input type="text" id="folder" name="folder" required>
                </li>
                <li>
                    <button type="submit">Create</button>
                </li>
            </ul>
        </form>  
        <section>
            <% if ( locals.folders ) { %>
                <h3>Folders</h3>
                <ul>
                    <% folders.forEach((folder) => { %>
                        <li>
                            <div>
                                <p><%= folder.name %></p> 
                                <form action="/delete-folder" method="post"><button>DELETE</button></form>
                            </div>
                        </li>
                    <% }) %>
                </ul>
            <% } %>
        </section>          
    </main>
    <footer>

    </footer>
</body>
</html>